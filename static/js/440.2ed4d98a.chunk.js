"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[440],{440:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(885),s=n(791),a=n(731),i=n(639),u=n(184),c=function(e){var t=e.setSearchParams,n=(0,s.useState)(""),a=(0,r.Z)(n,2),i=a[0],c=a[1];return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(""!==i?{query:i.trim()}:{}),c("")},children:[(0,u.jsx)("input",{onChange:function(e){var t=e.target.value;c(t)},type:"text",name:"searchInput",value:i,placeholder:"Enter movie name"}),(0,u.jsx)("button",{children:"Search"})]})})},o=n(689),h=function(e){var t=e.movies,n=(0,o.TH)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{children:"Search results"}),(0,u.jsx)("ul",{children:t.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.title})},e.id)}))})]})},l=n(861),f=n(757),m=n.n(f),p=n(388),d=function(){var e=(0,l.Z)(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"/search/movie",baseURL:"https://api.themoviedb.org/3",params:{api_key:"0193b403931965590ec3af04161f2ca2",query:t}},e.next=3,(0,p.Z)(n);case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e,t=(0,s.useState)([]),n=(0,r.Z)(t,2),o=n[0],l=n[1],f=(0,s.useState)(!1),m=(0,r.Z)(f,2),p=m[0],v=m[1],x=(0,s.useState)(null),j=(0,r.Z)(x,2),g=j[0],S=j[1],y=(0,s.useState)(!1),_=(0,r.Z)(y,2),b=_[0],w=_[1],Z=(0,a.lr)(),k=(0,r.Z)(Z,2),q=k[0],C=k[1],F=null!==(e=q.get("query"))&&void 0!==e?e:"";return(0,s.useEffect)((function(){F&&(w(!1),S("Oops some error"),v(!0),d(F).then((function(e){l(e),0===e.length&&w(!0)})).catch((function(e){return S(e.message)})).finally((function(){v(!1)})))}),[F]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{children:(0,u.jsx)(c,{setSearchParams:C})}),g&&(0,u.jsxs)("p",{style:{marginLeft:"50px"},children:["Oops, some error whith movie :",g]}),o.length>0&&(0,u.jsx)("section",{children:(0,u.jsx)(h,{movies:o})}),b&&(0,u.jsx)("p",{children:"Oops...Nothing was found.Try to enter something else."}),p&&(0,u.jsx)(i.a,{})]})}}}]);
//# sourceMappingURL=440.2ed4d98a.chunk.js.map