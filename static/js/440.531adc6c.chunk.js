"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[440],{639:function(e,t,r){r.d(t,{a:function(){return a}});var n="Loader_overlay__vojGq",s="Loader_ldsRoller__5cE1k",i=r(184);function a(){return(0,i.jsx)("div",{className:n,children:(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]})})}},440:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(885),s=r(791),i=r(731),a=r(639),c=r(184),u=function(e){var t=e.setSearchParams,r=(0,s.useState)(""),i=(0,n.Z)(r,2),a=i[0],u=i[1];return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(""!==a?{query:a.trim()}:{}),u("")},children:[(0,c.jsx)("input",{onChange:function(e){var t=e.target.value;u(t)},type:"text",name:"searchInput",value:a,placeholder:"Enter movie name"}),(0,c.jsx)("button",{children:"Search"})]})})},o=r(689),l=function(e){var t=e.movies,r=(0,o.TH)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h2",{children:"Search results"}),(0,c.jsx)("ul",{children:t.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(i.rU,{to:"/movies/".concat(e.id),state:{from:r},children:e.title})},e.id)}))})]})},h=r(861),d=r(757),v=r.n(d),f=r(388),x=function(){var e=(0,h.Z)(v().mark((function e(t){var r,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:"/search/movie",baseURL:"https://api.themoviedb.org/3",params:{api_key:"0193b403931965590ec3af04161f2ca2",query:t}},e.next=3,(0,f.Z)(r);case 3:return n=e.sent,e.abrupt("return",n.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e,t=(0,s.useState)([]),r=(0,n.Z)(t,2),o=r[0],h=r[1],d=(0,s.useState)(!1),v=(0,n.Z)(d,2),f=v[0],m=v[1],j=(0,s.useState)(null),p=(0,n.Z)(j,2),g=p[0],_=p[1],y=(0,s.useState)(!1),S=(0,n.Z)(y,2),b=S[0],w=S[1],Z=(0,i.lr)(),k=(0,n.Z)(Z,2),q=k[0],L=k[1],C=null!==(e=q.get("query"))&&void 0!==e?e:"";return(0,s.useEffect)((function(){C&&(w(!1),_("Oops some error"),m(!0),x(C).then((function(e){h(e),0===e.length&&w(!0)})).catch((function(e){return _(e.message)})).finally((function(){m(!1)})))}),[C]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("section",{children:(0,c.jsx)(u,{setSearchParams:L})}),g&&(0,c.jsxs)("p",{style:{marginLeft:"50px"},children:["Oops, some error whith movie :",g]}),o.length>0&&(0,c.jsx)("section",{children:(0,c.jsx)(l,{movies:o})}),b&&(0,c.jsx)("p",{children:"Oops...Nothing was found.Try to enter something else."}),f&&(0,c.jsx)(a.a,{})]})}}}]);
//# sourceMappingURL=440.531adc6c.chunk.js.map